from datetime import datetime
from dateutil.relativedelta import relativedelta

# Set the bookClose date
bookClose = datetime.strptime('01Nov2024', '%d%b%Y')

# Current month and year
currentMonth = bookClose.month
currentYear = bookClose.year

# Prior month and year
priorMonth = (bookClose - relativedelta(months=1)).month
priorYear = (bookClose - relativedelta(months=1)).year

# 36-month allocation month and year
alloc36moMonth = (bookClose - relativedelta(months=35)).month
alloc36moYear = (bookClose - relativedelta(months=35)).year

# 36-month allocation date (assuming the 1st of the month)
alloc36moDate = datetime(alloc36moYear, alloc36moMonth, 1)

# Output the values in a structured format
data = {
    'bookClose': bookClose.strftime('%d%b%Y'),
    'currentMonth': f'{currentMonth:02}',
    'currentYear': f'{currentYear}',
    'priorMonth': f'{priorMonth:02}',
    'priorYear': f'{priorYear}',
    'alloc36moMonth': f'{alloc36moMonth:02}',
    'alloc36moYear': f'{alloc36moYear}',
    'alloc36moDate': alloc36moDate.strftime('%d%b%Y')
}

# Print the results
for key, value in data.items():
    print(f'{key}: {value}')
